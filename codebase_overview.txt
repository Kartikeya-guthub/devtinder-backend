# DevTinder Backend Codebase Overview

## app.js
- Sets up Express app, connects to MongoDB, and uses cookie-parser and express.json middleware.
- Registers routers: auth, profile, request, user.
- Starts server on port 3000 after DB connection.

## Routers

### auth.js
- POST /signup: Registers a new user with hashed password and validation.
- POST /login: Authenticates user, issues JWT token in cookie.
- POST /logout: Clears auth token cookie.

### profile.js
- GET /profile/view: Returns logged-in user's profile.
- PATCH /profile/edit: Edits allowed user fields after validation.
- PATCH /profile/password: Changes password (should hash new password, but currently does not).

### request.js
- POST /request/send/:status/:toUserId: Sends a connection request (status: Ignore or Interested).
- POST /request/respond/:status/:requestId: Accepts or rejects a request (status: Accepted or Rejected).

### user.js
- GET /user/requests/received: Lists all received connection requests with status 'Interested'.
- GET /user/connections: Lists all accepted connections for the user.
- GET /feed: Returns paginated users not already connected to or self, for discovery.

## Models

### user.js
- User schema with fields: firstName, lastName, emailId, password, age, gender, skills, bio, photoUrl.
- Validates email and password strength.
- Methods: getJWT (returns JWT token), validatePassword (compares password with hash).

### connectionRequest.js
- ConnectionRequest schema: fromUserId, toUserId, status (Ignore, Accepted, Rejected, Interested).
- Pre-save hook prevents self-requests.
- Index on (fromUserId, toUserId).

## Middleware

### auth.js
- userAuth: Verifies JWT from cookies, attaches user to req.user, blocks unauthorized access.

## Utils

### validation.js
- validateSignupData: Checks required fields, email, and password strength.
- validateEditProfileData: Allows only certain fields to be edited.

## Config

### database.js
- connectDB: Connects to MongoDB Atlas using mongoose.

## Notes
- Password update does not hash new password (security issue).
- Some minor formatting and error handling improvements possible.
- Uses JWT for authentication, cookies for session.
- All main user and connection features are implemented.
